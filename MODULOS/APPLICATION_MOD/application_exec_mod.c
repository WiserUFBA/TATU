#define SHIFT(reg) (reg <<= 1)

...
temp = A;
if(0x80 & temp) ...;
SHIFT(temp);
...
temp = B;
if(0x80 & temp) ...;
SHIFT(temp);
...
...
